"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8608],{8608:(T,m,s)=>{s.r(m),s.d(m,{HomeModule:()=>D});var c=s(6895),p=s(5861),t=s(8256),u=s(2340),d=s(529);let h=(()=>{class n{constructor(e){this.http=e,this.apiUrlListDigimon=u.N.apiUrlListDigimon,this.apiUrlDigimonDetail=u.N.apiUrlDigimonDetail}getDigimons(e,i){return this.http.get(`${this.apiUrlListDigimon}?pageSize=${i}&page=${e}`)}getDigimonDetail(e){return this.http.get(`${this.apiUrlDigimonDetail}/${e}`)}static#t=this.\u0275fac=function(i){return new(i||n)(t.LFG(d.eN))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var r=s(4039),P=s(1481);function v(n,C){if(1&n){const e=t.EpF();t.TgZ(0,"div",4),t.NdJ("click",function(){const g=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onDigimonClick(g))}),t._UZ(1,"img",5),t.TgZ(2,"div"),t._uU(3),t.qZA(),t.TgZ(4,"div"),t._uU(5),t.qZA()()}if(2&n){const e=C.$implicit;t.xp6(1),t.Q6J("src",e.image,t.LSH),t.xp6(2),t.hij("# ",e.id,""),t.xp6(2),t.Oqu(e.name)}}function x(n,C){if(1&n){const e=t.EpF();t.TgZ(0,"div",6)(1,"ion-button",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.previousPage())}),t._uU(2,"Previous"),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA(),t.TgZ(5,"ion-button",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.nextPage())}),t._uU(6,"Next"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(4),t.AsE("Page ",e.pageNumber," of ",e.totalPages,"")}}let b=(()=>{class n{constructor(e,i,o){this.digimonService=e,this.alertController=i,this.sanitizer=o,this.digimons=[],this.digimonsChunks=[],this.pageNumber=0,this.totalPages=0,this.itemsPerPage=20}ngOnInit(){this.getDigimons()}getDigimons(){this.digimonService.getDigimons(this.pageNumber,this.itemsPerPage).subscribe(e=>{this.digimons=e.content,this.totalPages=Math.ceil(e.pageable.totalElements/this.itemsPerPage),this.digimonsChunks=[];for(let i=0;i<this.digimons.length;i+=this.itemsPerPage)this.digimonsChunks.push(this.digimons.slice(i,i+this.itemsPerPage))})}nextPage(){this.pageNumber<this.totalPages&&(this.pageNumber++,this.getDigimons())}previousPage(){this.pageNumber>0&&(this.pageNumber--,this.getDigimons())}onDigimonClick(e){var i=this;return(0,p.Z)(function*(){const o=yield i.digimonService.getDigimonDetail(e.id).toPromise();i.presentAlert(o)})()}presentAlert(e){var i=this;return(0,p.Z)(function*(){const o=e.images[0].href,O=`\n      Level: ${e.levels?.[0]?.level||"No level"}  -\n      Attribute: ${e.attributes?.[0]?.attribute||"No attribute"}   -\n      Type: ${e.types?.[0]?.type||"No type"}\n    `;yield(yield i.alertController.create({header:e.id+" "+e.name,subHeader:O,cssClass:"custom-alert",message:"",buttons:["OK"]})).present();const a=document.querySelector(".custom-alert .alert-message");a&&(a.style.backgroundImage=`url('${o}')`,a.style.backgroundSize="cover",a.style.backgroundPosition="center",a.style.height="290px")})()}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(h),t.Y36(r.Br),t.Y36(P.H7))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-home"]],decls:8,vars:3,consts:[[1,"ion-padding",3,"fullscreen"],[1,"grid-container"],["class","grid-item",3,"click",4,"ngFor","ngForOf"],["class","paginacion",4,"ngIf"],[1,"grid-item",3,"click"],["alt","Digimon Image",3,"src"],[1,"paginacion"],[3,"click"]],template:function(i,o){1&i&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3," DIGIMONS "),t.qZA()()(),t.TgZ(4,"ion-content",0)(5,"div",1),t.YNc(6,v,6,3,"div",2),t.qZA(),t.YNc(7,x,7,2,"div",3),t.qZA()),2&i&&(t.xp6(4),t.Q6J("fullscreen",!0),t.xp6(2),t.Q6J("ngForOf",o.digimons),t.xp6(1),t.Q6J("ngIf",o.totalPages>1))},dependencies:[c.sg,c.O5,r.YG,r.W2,r.Gu,r.wd,r.sr],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--ion-background-color: #1C1C39}.grid-container[_ngcontent-%COMP%]{display:grid;grid-gap:20px}.grid-item[_ngcontent-%COMP%]{border:solid 1px white;background-color:#fff;border-radius:6px;padding:10px;text-align:center}.grid-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto}@media (min-width: 768px){.grid-container[_ngcontent-%COMP%]{grid-template-columns:repeat(6,1fr)}}@media (max-width: 431px){.grid-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.paginacion[_ngcontent-%COMP%]{margin:20px 0 60px;text-align:center;font-family:Poppins,sans-serif;align-items:center;display:flex;justify-content:space-between}.paginacion[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.paginacion[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-size:14px}ion-toolbar[_ngcontent-%COMP%]{--background: #1C1C39;--color: #B0B0DE;text-align:center}.alert-title.sc-ion-alert-md[_ngcontent-%COMP%]{text-align:center!important}.custom-alert[_ngcontent-%COMP%]   .alert-message[_ngcontent-%COMP%]{padding:0;background-color:transparent;background-repeat:no-repeat;border:none}']})}return n})();var f=s(3393);const y=[{path:"",component:b}];let M=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#i=this.\u0275inj=t.cJS({imports:[c.ez,f.Bz.forChild(y),f.Bz]})}return n})(),D=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#i=this.\u0275inj=t.cJS({providers:[h],imports:[c.ez,M,r.Pc.forRoot({innerHTMLTemplatesEnabled:!0}),d.JF]})}return n})()}}]);